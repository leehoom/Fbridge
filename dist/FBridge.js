var FBridge=function(){"use strict";function e(e){var n=e+"=",o=void 0;try{o=decodeURIComponent(document.cookie)}catch(e){o=document.cookie}for(var i=o.split(";"),t=0;t<i.length;t++){for(var c=i[t];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(n))return c.substring(n.length,c.length)}return""}function n(e,n,o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3);var t="expires="+i.toUTCString();document.cookie=e+"="+n+";"+t+";path=/"}function o(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function i(e){window.isLoginCallback=e,WBAPP.isLogin("isLoginCallback")}function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};window.openMobileLoginCallback=n,window.isLoginCallback=function(e){e.state||WBAPP.openMobileLogin("openMobileLoginCallback")},WBAPP.isLogin("isLoginCallback")}function c(e,n){window.logoutCallback=n,window.isLoginCallback=function(e){e.state&&WBAPP.logout("","logoutCallback")},WBAPP.isLogin("isLoginCallback")}function a(e){e(FBridge.cookie.get("PPU")?{state:!0}:{state:!1})}function r(e){window.location.href=encodeURI("//m.m.58.com/login?path="+e)}function s(e){window.location.href="//passport.58.com/logout?path="+e}function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1";WBAPP.setWebLog("app_"+e,n,o)}function f(e,n,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1",t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"show";WBAPP.setWebLog(t,e,i)}function d(e){window.clickLog("from=m_"+e)}function g(e,n,o){arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];window.clickLog("from="+n)}function u(e){window.clickLog("from=wx_"+e)}function w(e,n,o){arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];window.clickLog("from="+o)}function h(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.href,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"https://img.58cdn.com.cn/fangrs/img/7fbe9179b04d2ffd9a660361aaa50af1.png",t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"QQ,SINA,WEIXIN,FRIENDS,COPY | ALL",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};window.rightBtnCallback=function(){WBAPP.shareInfo(e,o,i,"分享占位显示",n,t,"","","",c)},WBAPP.extendRightBtn("top_right","分享","rightBtnCallback")}function p(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.href,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"https://img.58cdn.com.cn/fangrs/img/7fbe9179b04d2ffd9a660361aaa50af1.png",t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"QQ,SINA,WEIXIN,FRIENDS,TENCENT,QQSPACE",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};wx.ready(function(){var a=t.split(",");a.includes("FRIENDS")&&wx.onMenuShareTimeline({title:e,link:o,imgUrl:i,success:function(){c("1","FRIENDS")},cancel:function(){c("2","FRIENDS")}}),a.includes("WEIXIN")&&wx.onMenuShareAppMessage({title:e,desc:n,link:o,imgUrl:i,success:function(){c("1","WEIXIN")},cancel:function(){c("2","WEIXIN")}}),a.includes("QQ")&&wx.onMenuShareQQ({title:e,desc:n,link:o,imgUrl:i,success:function(){c("1","QQ")},cancel:function(){c("2","QQ")}}),a.includes("TENCENT")&&wx.onMenuShareWeibo({title:e,desc:n,link:o,imgUrl:i,success:function(){c("1","TENCENT")},cancel:function(){c("2","TENCENT")}}),a.includes("QQSPACE")&&wx.onMenuShareQQ({title:e,desc:n,link:o,imgUrl:i,success:function(){c("1","QQSPACE")},cancel:function(){c("2","QQSPACE")}})}),wx.error(function(e){throw new Error("wx cinfig error:"+e)})}function b(){}function v(e,n,o){if(o)return"string"==typeof o&&(o=JSON.parse(o)),void WBAPP._nativeBridge(o);WBAPP.loadPage("link",e,n)}function m(e){window.location.href=e}var k="";!function(){var e=window.navigator.userAgent;k=-1!=e.indexOf("WUBA")?"app":-1!=e.indexOf("MicroMessenger")?"wx":-1!=document.cookie.indexOf("58ua")?"app":"m"}();var P=Object.freeze({get platform(){return k}}),x=function(e,n){function o(){var e=i.readyState;(void 0===e||/^(loaded|complete)$/.test(e))&&(i.onload=i.onreadystatechange=null,i=null,n&&n())}var i=document.createElement("script");i.async=!0,i.readyState?i.onreadystatechange=o:i.onload=o,i.src=e;var t=document.getElementsByTagName("head")[0]||document.body;t.appendChild(i)&&(t=null)},C=Object.freeze({get:e,set:n,remove:o}),E=Object.freeze({env:P,cookie:C,loadjs:x}),O=Object.freeze({isLogin:i,login:t,logout:c}),j=Object.freeze({isLogin:a,login:r,logout:s}),A={};switch(k){case"app":A=O;break;case"m":case"wx":A=j}var L=A,N=Object.freeze({send:l,show:f}),Q=Object.freeze({send:d,show:g}),I=Object.freeze({send:u,show:w}),S={};switch(k){case"app":S=N;break;case"m":S=Q;break;case"wx":S=I}var W=S,B=Object.freeze({config:h}),T=Object.freeze({config:p}),z=Object.freeze({config:b}),y={};switch(k){case"app":y=B;break;case"m":y=z;break;case"wx":y=T}var M=y,U=Object.freeze({redirect:v}),R=Object.freeze({redirect:m}),F={};switch(k){case"app":F=U;break;case"m":case"wx":F=R}var D=F,X=Object.freeze({passport:L,track:W,share:M,router:D}),_={};return(Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e})(_,X,E),"wx"==k&&(window.wx||(document.write('<script src="//res.wx.qq.com/open/js/jweixin-1.0.0.js"><\/script>'),document.write('<script src="//weixin.58.com/weixinjsconfig/config?t='+Math.random()+'&debug=false"><\/script>'))),_}();
